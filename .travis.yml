sudo: false

language: python

python: 2.7

addons:
  apt:
    packages:
      - python3.5
cache:
  pip: true
  directories:
    - .tox

env:
  - TOXENV=py26
  - TOXENV=py27
  - TOXENV=py32
  - TOXENV=py33
  - TOXENV=py34
  - TOXENV=py35
  - TOXENV=pypy
  - TOXENV=pypy3
  - TOXENV=pep8

install:
    - pip install -r dev-requirements.txt
    # coverage 4.0 doesn't support Python 3.2
    - if [ "$TOXENV" == "py32" ]; then travis_retry pip install coverage==3.7.1; fi
    - if [ "$TOXENV" != "py32" ]; then travis_retry pip install coverage; fi

script:
  - tox -e $TOXENV

after_success:
  - coveralls

notifications:
  email: false
